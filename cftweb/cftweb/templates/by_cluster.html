{% extends "base.jinja" %}
{% block page_css %}
<style>
  tr.clickable-row { cursor: pointer; } 
</style>
<script>
jQuery(document).ready(function($) {
    $(".clickable-row").click(function() {
        window.location = $(this).data("href");
    });
  });
</script>
{% endblock %}

{% block content %}
<h2>{{ heading }}</h2>
<div class="row">
  <div class="col-md-6">
    <table class="table  table-striped table-hover">
      <thead>
        <tr>
          <th>Patient ID</th>
          <th>Timepoint</th>
          <th>Seed</th>
          <th>V-gene</th>
          <th>D-gene</th>
          <th>J-gene</th>
          <th>Sequences</th>
          <th>Clustering step</th>
          <th>Download</th>
        </tr>
      </thead>
      <tbody>
        {% for c in clusters %}
        <tr class='clickable-row' data-href='{{ url_for('cluster_page', id=c.id ) }}'>
          <td>{{ c.pid }}</td>
          <td>{{ c.timepoint }}</td>
          <td>{{ c.seed }}</td>
          <td>{{ c.v_gene }}</td>
          <td>{{ c.d_gene }}</td>
          <td>{{ c.j_gene }}</td>
          <td>{{ c.nseq }}</td>
          <td>{{ c.clustering_step }}</td>
          <td><a href='{{ url_for('cluster_fasta', id=c.id) }}'>Fasta</a></td>
        </tr>
        {%-endfor-%}
      </tbody>
    </table>
    
  </div>
</div>
{% endblock %}

